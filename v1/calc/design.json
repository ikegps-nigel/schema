{
    "id": "design",
    "description": "Structural Description of a calc Design",
    "type": "object",
    "properties": {
        "id" :  {
          	"type": "string",
            "required": "true"
        },        
        "pole": {
        	"type": "object",
        	"required": "true",
        	"properties": {
				"glc": {
					"extends": {"$ref": "../general/measurable.json"},
					"required": "true"
				},
		
				"agl": {
					"extends": {"$ref": "../general/measurable.json"},
					"required": "true"
				},
		
				"environment": {
					"type": "string",
					"required": "true"
				},
				"temperature": {
					"extends": {"$ref": "../general/measurable.json"},
					"required": "true"
				},
				"stressRatio": {
					"type": "number",
					"required": "true"
				},
				"clientPole": {
					"type": "string",
					"required":"true"
				}
			}
		},
 		"wireEndPoints": {
 			"type": "array",
 			"required": "true",
 			"items": {
 				"type": "object",
 				"id": "wireEndPoint",
				"extends": {"$ref": "point.json"},
 				"properties": {
 					
 					"inclination": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"type": {
 						"extends": {"$ref": "wep_type.json"},
 						"required": "true"
 					},
 					"comments": {
 						"type": "string",
 						"required": "true"
 					},
 					
 					"wires": {
 						"type": "array",
 						"required": "true",
 						"items": {
 							"type": "string"
 						}
 					},
 					
 					"spanGuys": {
 						"type": "array",
 						"required": "true",
 						"items": {
 							"type": "string"
 						}
 					},
 					 					
 					"spanPoints": {
 						"type": "array",
 						"required": "true",
 						"items": {
 							"type": "string"
 						}
 					}
 				}					
 			}
 		},		
		"spanPoints": {
			"type": "array",
			"required": "true",
			"items": {
				"type": "object",
				"id": "spanPoint",
				"extends": {"$ref": "point.json"},
				"properties": {
					"environment": {
						"extends": {"$ref": "environment.json"},
						"required": "true"
					},
					"heights": {
						"type": "array",
						"required": "true", 
						"items": {
							"type": "object",
							"id": "height",
							"properties": {
								"wireId": {
									"type": "string",
									"required": "true"
								},
								"height": {
									"extends": {"$ref": "../general/measurable.json"},
									"required": "true"
								}
							}
						}
					}
				}
			}
		},		
		"anchors": {
			"type": "array",
			"required": "true",
			"items": {
				"type": "object",
				"id": "anchor",
				"extends": {"$ref": "point.json"},
				"properties": {
					"owner": {
						"extends": {"$ref": "../general/owner.json",
						"required": "true"
					},
					"height": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"supportType": {
						"type": "string",
						"required": "true"
					},
					"inclination": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"clientAnchor": {
						"type": "string",
						"required": "true"
					},
					"guys": {
						"type": "array",
						"required": "true",
						"items": {
							"type":"string"
						}
					}
				}
			}
		}		
	}, 		
 		"notePoints": {
 			"type": "array",
 			"required": "true",
 			"items": {
 				"type": "object",
 				"id": "notePoint",
 				"properties": {
 					"id": {
 						"type": "string",
 						"required": "true"
 					},
 					"uuid": {
 						"type": "string"
 					},
 					"note": {
 						"type": "string",
 						"required": "true"
 					},
 					"direction": {
 						"extends": {"$ref": "../general/bearing.json"},
 						"required": "true"
 					},
 					"height": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"distance": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					}
 				}
 			}
 		},
 		"pointLoads": {
 			"type": "array",
 			"required": "true",
 			"items": {
 				"type": "object",
 				"id": "pointLoad",
 				"properties": {
 					"id": {
 						"type": "string",
 						"required": "true"
 					},
 					"uuid": {
 						"type": "string"
					},
					"owner": {
						"extends": {"$ref": "../general/owner.json"}
					},
					"elevation": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"direction": {
 						"extends": {"$ref": "../general/bearing.json"},
 						"required": "true"
 					},
 					"x": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"y": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					}, 					
 					"z": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"fx": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"fy": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
					"fz": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					}, 					 					
 					"mx": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
 					"my": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					},
					"mz": {
 						"extends": {"$ref": "../general/measurable.json"},
 						"required": "true"
 					}
 				}	 						
 			}
 		}, 		
 		"damages": {
 			"type": "array",
 			"items": {
 				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"required": "true"
					},
					"uuid": {
						"type": "string"
					},
					"damageType": {
						"extends": {"$ref": "damage_type.json"},
						"required": "true" 
					},
					"attachHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"damageHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"direction": {
						"extends": {"$ref": "../general/bearing.json"}
					},
					"circumference": {
						"extends": {"$ref": "../general/measurable.json"}
					},
					"arcLength": {
						"extends": {"$ref": "../general/measurable.json"}
					},						
					"depth": {
						"extends": {"$ref": "../general/measurable.json"}
					},									
					"shellThickness": {
						"extends": {"$ref": "../general/measurable.json"}
					},					 					
					"neckDepth": {
						"extends": {"$ref": "../general/measurable.json"}
					}, 
					"neckDiameter": {
						"extends": {"$ref": "../general/measurable.json"}
					},
					"neckOffset": {
						"extends": {"$ref": "../general/measurable.json"}
					}
				}
			}
		},		
		"wires": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "wire",
				"extends": {"$ref": "attachment.json" },
				"properties": {
					"usageGroup": {
						"extends": {"$ref": "usage_group.json" },
						"required": "true"
					},
					"tensionGroup": {
						"type": "string",
						"required": "true"
					},
					"midspanHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"tensionAdjustment": {
						"type": "number"
					}
					"calculation": {
						"type": "string",
						"required": "true",
						"enum": [
							"INITIAL",
							"FINAL"
						]
					}
				}
			}
		},
		"spanGuys": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "spanGuy",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"midspanHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"height": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					}
				}
			}
		},				
		"guys": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "guy",
				"extends": {"$ref": "attachment.json" }
			}
		},
		"sidewalkGuys": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "sidewalkGuy",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"braceHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"braceLength": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					}
				}
			}
		},		
		"equipments": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "equipment",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"bottomHeight": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"direction": {
						"extends": {"$ref": "../general/bearing.json"},
						"required": "true"
					}
				}
			}
		},
		"crossArms": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "crossArm",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"offset": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"direction": {
						"extends": {"$ref": "../general/bearing.json"},
						"required": "true"
					},
					"associatedBacking": {
						"type": "string",
						"required": "true"
					},
					"insulators": {
						"type": "array",
						"items": {
							"type": "string"
						}
					}							
				}
			}
		},
		"insulators": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "insulator",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"offset": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"direction": {
						"extends": {"$ref": "../general/bearing.json"},
						"required": "true"
					},
					"doubleInsulator": {
						"type": "boolean",
						"required": "true"
					},
					"wires":  {
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				}
			}
		},	
		"pushBraces": {
			"type": "array",
			"items": {
				"type": "object",
				"id": "pushBrace",
				"extends": {"$ref": "attachment.json" },
				"properties": {		
					"glc": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"direction": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					},
					"distance": {
						"extends": {"$ref": "../general/measurable.json"},
						"required": "true"
					}					
				}
			}
		}														
    }
}
